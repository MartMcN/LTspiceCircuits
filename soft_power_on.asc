Version 4
SHEET 1 2324 1048
WIRE -208 -96 -448 -96
WIRE -64 -96 -208 -96
WIRE 48 -96 -64 -96
WIRE 144 -96 48 -96
WIRE 400 -96 240 -96
WIRE 1584 -96 656 -96
WIRE 2000 -96 1584 -96
WIRE -64 -64 -64 -96
WIRE 48 -48 48 -96
WIRE -208 16 -208 -96
WIRE -448 32 -448 -96
WIRE 2000 32 2000 -96
WIRE 2000 32 1920 32
WIRE -64 64 -64 16
WIRE 1344 128 1248 128
WIRE 1504 128 1424 128
WIRE 2000 128 2000 32
WIRE 528 144 528 0
WIRE 1920 144 1920 32
WIRE -64 176 -64 128
WIRE 48 176 48 32
WIRE 48 176 -64 176
WIRE 160 176 160 -48
WIRE 160 176 48 176
WIRE 272 176 160 176
WIRE 784 224 336 224
WIRE 1216 224 864 224
WIRE 1248 224 1248 128
WIRE 1248 224 1216 224
WIRE 1408 224 1248 224
WIRE 1504 224 1504 128
WIRE 1504 224 1472 224
WIRE 1584 224 1584 -96
WIRE 1584 224 1504 224
WIRE -448 256 -448 112
WIRE 1408 256 1408 224
WIRE 1216 288 1216 224
WIRE 1920 304 1920 208
WIRE 2000 304 2000 208
WIRE 2000 304 1920 304
WIRE 1408 352 1408 320
WIRE 2000 368 2000 304
WIRE 272 432 272 272
WIRE 160 480 160 176
WIRE 272 528 224 528
WIRE 384 528 272 528
WIRE 528 528 464 528
WIRE 832 528 528 528
WIRE 1024 528 832 528
WIRE 1216 528 1104 528
WIRE 1296 528 1216 528
WIRE 1408 528 1296 528
WIRE 1440 528 1408 528
WIRE 1584 528 1584 224
WIRE 1584 528 1504 528
WIRE 1216 560 1216 528
WIRE 272 592 272 528
WIRE 832 592 832 528
WIRE 1296 592 1296 528
WIRE 1408 608 1408 528
WIRE 528 688 528 528
WIRE 672 704 576 704
WIRE 832 704 832 656
WIRE 1296 704 1296 672
WIRE 1408 704 1408 672
WIRE 1408 704 1296 704
WIRE 672 720 672 704
WIRE 1408 720 1408 704
WIRE 160 736 160 576
WIRE 272 736 272 656
WIRE 576 832 576 752
WIRE 672 832 672 800
WIRE 672 832 576 832
WIRE 672 880 672 832
WIRE -208 896 -208 96
WIRE 528 896 528 768
WIRE 528 896 -208 896
FLAG 160 736 0
FLAG -448 256 0
FLAG 2000 368 0
FLAG 1216 560 MICRO_IP
IOPIN 1216 560 In
FLAG 672 880 0
FLAG 272 432 0
FLAG 272 736 0
FLAG 528 144 0
FLAG 1408 720 0
FLAG 1408 352 0
FLAG 1216 288 Micro_OP
IOPIN 1216 288 Out
FLAG 832 704 0
SYMBOL pmos 240 -48 M270
SYMATTR InstName M1
SYMATTR Value FDR840P
SYMBOL res 32 -64 R0
SYMATTR InstName R1
SYMATTR Value 10K
SYMBOL npn 224 480 M0
SYMATTR InstName Q1
SYMATTR Value BC847A
SYMBOL voltage -448 16 R0
WINDOW 3 -73 -130 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 26 107 Left 2
SYMATTR Value PULSE(0 5.1 0.05 0.001 0.001 2 3 1)
SYMATTR SpiceLine Rser=3
SYMATTR InstName V1
SYMBOL sw 528 784 R180
SYMATTR InstName S1
SYMBOL voltage 672 704 R0
WINDOW 3 104 89 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(-0.1 3.3 0.1 1e-9 1e-9 0.04 0.2 2)
SYMATTR InstName V2
SYMBOL res 1984 112 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res -224 0 R0
SYMATTR InstName R4
SYMATTR Value 470
SYMBOL schottky 1440 544 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1904 144 R0
SYMATTR InstName C1
SYMATTR Value 50µF
SYMBOL res 1120 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 480 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL npn 336 176 M0
SYMATTR InstName Q2
SYMATTR Value BC847A
SYMBOL res 880 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL schottky 1408 240 R270
WINDOW 0 -28 55 VTop 2
WINDOW 3 -27 77 VBottom 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -80 64 R0
WINDOW 3 32 75 Left 2
SYMATTR Value 1pF
SYMATTR InstName C2
SYMBOL PowerProducts\\LT1117-3.3 528 -96 R0
SYMATTR InstName U1
SYMBOL schottky 1424 320 R180
WINDOW 0 64 30 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1424 672 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -80 -80 R0
SYMATTR InstName R7
SYMATTR Value 0
SYMBOL res 1440 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 1000000k
SYMBOL cap 256 592 R0
SYMATTR InstName C3
SYMATTR Value 1µF
SYMBOL res 1280 576 R0
SYMATTR InstName R9
SYMATTR Value 20000K
SYMBOL AutoGenerated\\DI_BZX84C3V3 832 624 R270
SYMATTR InstName U2
TEXT -456 -160 Left 2 !.tran 0 0.5 0.09 startup
TEXT 568 680 Left 2 !.model SW sw()
TEXT 2064 80 Left 2 ;LOAD
TEXT 1464 616 Left 2 ;MICRO_INPUT and MICRO_OUPUT labels represent microcontroller i/o pins.\nD1/D2/D3/D4 are internal portection diode in the microcontroller.\n \nR9 internal pull down (can be enabled iin micro firmware).\n \nR11 is use to represent the micocontroller driving OP high.\nMake small to simulate dive high and very large for open circuit.
TEXT -160 464 Left 2 ;Q1 switches on M1 when\nS1 closes, turning on the\npower to the load.\n \nQ2 holds the power on\nunder the control of the\nmicrocontroller.
TEXT 120 824 Left 2 ;Push button modeled by Voltage\nControlled switch S1.
TEXT -136 256 Left 2 ;M1 turn off time can be\nadjusted with C2 and R1
TEXT -168 696 Left 2 ;On time controlled via C3
TEXT -840 384 Left 4 ;Soft Power On Circuit.\n \nUser presses S1 to power up.\nMicrocontroller keeps power\non by turning on Q2 and can\nturn off by turning Q2 off.
