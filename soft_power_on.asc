Version 4
SHEET 1 2260 964
WIRE -208 -96 -448 -96
WIRE -64 -96 -208 -96
WIRE 48 -96 -64 -96
WIRE 144 -96 48 -96
WIRE 400 -96 240 -96
WIRE 1520 -96 656 -96
WIRE 1936 -96 1520 -96
WIRE -64 -64 -64 -96
WIRE 48 -48 48 -96
WIRE -208 16 -208 -96
WIRE -448 32 -448 -96
WIRE 1936 32 1936 -96
WIRE 1936 32 1856 32
WIRE -64 64 -64 16
WIRE 1280 128 1184 128
WIRE 1440 128 1360 128
WIRE 1936 128 1936 32
WIRE 528 144 528 0
WIRE 1856 144 1856 32
WIRE -64 176 -64 128
WIRE 48 176 48 32
WIRE 48 176 -64 176
WIRE 160 176 160 -48
WIRE 160 176 48 176
WIRE 272 176 160 176
WIRE 784 224 336 224
WIRE 1152 224 864 224
WIRE 1184 224 1184 128
WIRE 1184 224 1152 224
WIRE 1344 224 1184 224
WIRE 1440 224 1440 128
WIRE 1440 224 1408 224
WIRE 1520 224 1520 -96
WIRE 1520 224 1440 224
WIRE -448 256 -448 112
WIRE 1344 256 1344 224
WIRE 1152 288 1152 224
WIRE 1856 304 1856 208
WIRE 1936 304 1936 208
WIRE 1936 304 1856 304
WIRE 1344 352 1344 320
WIRE 1936 368 1936 304
WIRE 272 432 272 272
WIRE 160 480 160 176
WIRE 272 528 224 528
WIRE 384 528 272 528
WIRE 528 528 464 528
WIRE 784 528 528 528
WIRE 1152 528 864 528
WIRE 1232 528 1152 528
WIRE 1344 528 1232 528
WIRE 1376 528 1344 528
WIRE 1520 528 1520 224
WIRE 1520 528 1440 528
WIRE 1152 560 1152 528
WIRE 272 592 272 528
WIRE 1232 592 1232 528
WIRE 1344 608 1344 528
WIRE 528 688 528 528
WIRE 752 704 576 704
WIRE 1232 704 1232 672
WIRE 1344 704 1344 672
WIRE 1344 704 1232 704
WIRE 752 720 752 704
WIRE 1344 720 1344 704
WIRE 160 736 160 576
WIRE 272 736 272 656
WIRE 576 848 576 752
WIRE 752 848 752 800
WIRE 752 848 576 848
WIRE 752 944 752 848
WIRE -208 960 -208 96
WIRE 528 960 528 768
WIRE 528 960 -208 960
FLAG 160 736 0
FLAG -448 256 0
FLAG 1936 368 0
FLAG 1152 560 MICRO_IP
IOPIN 1152 560 In
FLAG 752 944 0
FLAG 272 432 0
FLAG 272 736 0
FLAG 528 144 0
FLAG 1344 720 0
FLAG 1344 352 0
FLAG 1152 288 Micro_OP
IOPIN 1152 288 Out
SYMBOL pmos 240 -48 M270
SYMATTR InstName M1
SYMATTR Value FDR840P
SYMBOL res 32 -64 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL npn 224 480 M0
SYMATTR InstName Q1
SYMATTR Value BC847A
SYMBOL voltage -448 16 R0
WINDOW 3 -73 -130 VRight 2
WINDOW 123 0 0 Left 0
WINDOW 39 26 107 Left 2
SYMATTR Value PULSE(0 5.1 0.05 0.001 0.001 2 3 1)
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMBOL sw 528 784 R180
SYMATTR InstName S1
SYMBOL voltage 752 704 R0
WINDOW 3 21 107 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(-0.1 3.3 0.1 1e-9 1e-9 0.04 0.2 2)
SYMATTR InstName V2
SYMBOL res 1920 112 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res -224 0 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL schottky 1376 544 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1840 144 R0
SYMATTR InstName C1
SYMATTR Value 50µF
SYMBOL res 880 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 480 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL npn 336 176 M0
SYMATTR InstName Q2
SYMATTR Value BC847A
SYMBOL res 880 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL schottky 1344 240 R270
WINDOW 0 -28 55 VTop 2
WINDOW 3 -27 77 VBottom 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -80 64 R0
WINDOW 3 32 75 Left 2
SYMATTR Value 100nF
SYMATTR InstName C2
SYMBOL PowerProducts\\LT1117-3.3 528 -96 R0
SYMATTR InstName U1
SYMBOL schottky 1360 320 R180
WINDOW 0 64 30 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1360 672 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -80 -80 R0
SYMATTR InstName R7
SYMATTR Value 1K
SYMBOL res 1376 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10
SYMBOL cap 256 592 R0
SYMATTR InstName C3
SYMATTR Value 10µF
SYMBOL res 1216 576 R0
SYMATTR InstName R9
SYMATTR Value 40k
TEXT -456 -160 Left 2 !.tran 0 0.5 0.09 startup
TEXT 560 552 Left 2 !.model SW sw()
TEXT 2000 80 Left 2 ;LOAD
TEXT 1400 616 Left 2 ;MICRO_INPUT and MICRO_OUPUT labels represent microcontroller i/o pins.\nD1/D2/D3/D4 are internal portection diode in the microcontroller.\n \nR9 internal pull down (can be enabled iin micro firmware).\n \nR11 is use to represent the micocontroller driving OP high.\nMake small to simulate dive high and very large for open circuit.
TEXT -160 464 Left 2 ;Q1 switches on M1 when\nS1 closes, turning on the\npower to the load.\n \nQ2 holds the power on\nunder the control of the\nmicrocontroller.
TEXT 568 640 Left 2 ;Push button modeled by Voltage\nControlled switch S1.
TEXT -136 256 Left 2 ;M1 turn off time can be\nadjusted with C2 and R1
TEXT 120 800 Left 2 ;On time controlled via C3
TEXT -840 384 Left 4 ;Soft Power On Circuit.\n \nUser presses S1 to power up.\nMicrocontroller keeps power\non by turning on Q2 and can\nturn off by turning Q2 off.
